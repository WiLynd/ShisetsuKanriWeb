<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title id="title">メニュー</title>
    <link rel="icon" type="image/png" href="./imgs/icons/ic-menu.svg" />
    <meta name='viewport' content='width=device-width, initial-scale=1'>

    <link rel="stylesheet" href="./vendor/bootstrap/bootstrap-5.1.3-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./vendor/bootstrap/bootstrap-4.0.0-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css">
    <link rel="stylesheet" type="text/css" href="./fonts/Linearicons-Free-v1.0.0/icon-font.min.css">
    <link rel="stylesheet" type="text/css" href="./css/common.css">
    <link rel="stylesheet" type="text/css" href="./css/menu.css">
    <link rel="stylesheet" type="text/css" href="./css/modal.css">
    <link rel="stylesheet" type="text/css" href="./css/util.css">
    <link rel="stylesheet" href="./fonts/fontawesome-free-5.15.4-web/css/all.css">

</head>

<body>
    <div id="backgroundPage">
        <div class="container-mainform">
            <div class="dropleft select-language">
                <div class="btn-menu btn-secondary" type="button" id="dropdownSelectLanguage" data-bs-toggle="dropdown"
                    aria-expanded="false">
                    <img src="imgs/icons/ic-jp.png" alt="" id="language" value="jp">
                </div>
                <ul class="dropdown-menu" aria-labelledby="dropdownSelectLanguage">
                    <li id="lgEn">
                        <a class="dropdown-item">
                            <img src="imgs/icons/ic-en.png" alt=""><span class="text m-l-10">English</span>
                        </a>
                    </li>
                    <li id="lgVi">
                        <a class="dropdown-item">
                            <img src="imgs/icons/ic-vi.png" alt=""><span class="text m-l-10">Tiếng Việt</span>
                        </a>
                    </li>
                    <li id="lgJp" hidden>
                        <a class="dropdown-item">
                            <img src="imgs/icons/ic-jp.png" alt=""><span class="text m-l-10">日本語</span>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="dropdown select-role">
                <div class="btn-menu btn-secondary dropdown-toggle" type="button" id="dropdownSelectRole"
                    data-bs-toggle="dropdown" aria-expanded="false">
                    <span class="text" id="userName"><i class="ic-dropdown far fa-user"></i><a id="name"></a></span>
                </div>
                <ul class="dropdown-menu" aria-labelledby="dropdownSelectRole">
                    <li>
                        <a class="dropdown-item scan-page" id="logoutOption">
                            <span class="text" id="logoutBtn"><i
                                    class="logout fas fa-sign-out-alt m-r-10"></i>ログアウト</span>
                        </a>
                    </li>
                </ul>
            </div>


            <div class="wrap-mainform">
                <span id="titleForm">
                    メニュー
                </span>

                <div class="button-area">
                    <div class="row content ed-v">
                        <div class="col-4">
                            <button type="button" class="btn btn-default text-center btn-lg"
                                id="zumenKakuninBtn">図面確認</button>
                        </div>

                        <div class="col-4">
                            <button type="button" class="btn btn-default text-center btn-lg"
                                id="setsubiKanriBtn">設備管理</button>
                        </div>

                        <div class="col-4">
                            <button type="button" class="btn btn-default text-center btn-lg"
                                id="nichijoTenkenBtn">日常点検</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- The Modal -->
        <div id="myModal" class="modal">
            <!-- Modal content -->
            <div class="modal-content">
                <!-- Modal image area -->
                <div class="modal-image-area background-error-modal">
                    <span class="modal-close-button">X</span>
                    <img id="imgStatusModal" class="modal-image">
                </div>

                <!-- Modal message area -->
                <div class="modal-message">
                    <div class="modal-message-area">
                        <span class="title-modal text">題名</span>
                        <span class="modal-message-detail text">メッセージ</span>
                    </div>

                    <div id="buttonAreaModal">
                        <button class="button-modal btn-common button-0" role="button"></button>
                        <button class="button-modal btn-common button-1" role="button"></button>
                        <button class="button-modal btn-common button-2" role="button"></button>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <script src="./vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="./fonts/fontawesome-free-5.15.4-web/js/fontawesome.min.js"></script>
    <!-- <script type="module" src="./js/menu.js"></script> -->
    <script>
        var language = [
            [
                "MENU",
                "Show Drawing",
                "Manage Facility",
                "Daily Check"
            ],
            [
                "MENU",
                "Hiển thị<br>bản vẽ",
                "Quản lý<br>thiết bị",
                "Kiểm tra<br>hằng ngày"
            ],
            [
                "メニュー",
                "図面確認",
                "設備管理",
                "日常点検"
            ]
        ];


        /**
        * MOVING TO ANOTHER PAGE
        */
        function movePage(page) {
            window.location.href = page;
        }

        /**
           * ONCLICK ACTION
        */
        function onclickAction() {
            document.getElementById("logoutOption").onclick = function () {
                movePage('./login.html')
            }

            document.getElementById("zumenKakuninBtn").onclick = function () {
                movePage('./drawing_search.html')
            };

            document.getElementById("setsubiKanriBtn").onclick = function () {
                movePage('./area_list_equipment.html')
            };

            document.getElementById("nichijoTenkenBtn").onclick = function () {
                movePage('./area_list_check.html')
            };

            document.getElementById("lgEn").onclick = function () {
                setIconEnglish();
                setLanguage(0);
                sessionStorage.setItem("language", 0);
            }

            document.getElementById("lgVi").onclick = function () {
                setIconVietnamese();
                setLanguage(1);
                sessionStorage.setItem("language", 1);
            }

            document.getElementById("lgJp").onclick = function () {
                setIconJapanese();
                setLanguage(2);
                sessionStorage.setItem("language", 2);
            }
        }

        /*
            * SET ICON ENGLISH
        */
        function setIconEnglish() {
            document.getElementById("language").setAttribute("src", "imgs/icons/ic-en.png");
            document.getElementById("language").setAttribute("value", "en");
            document.getElementById("lgEn").setAttribute("hidden", "");
            document.getElementById("lgVi").removeAttribute("hidden");
            document.getElementById("lgJp").removeAttribute("hidden");
            document.getElementById("logoutBtn").innerHTML = '<i class="logout fas fa-sign-out-alt m-r-10"></i>Logout';
        }

        /*
            * SET ICON VIETNAMESE
        */
        function setIconVietnamese() {
            document.getElementById("language").setAttribute("src", "imgs/icons/ic-vi.png");
            document.getElementById("language").setAttribute("value", "vi");
            document.getElementById("lgVi").setAttribute("hidden", "");
            document.getElementById("lgEn").removeAttribute("hidden");
            document.getElementById("lgJp").removeAttribute("hidden");
            document.getElementById("logoutBtn").innerHTML = '<i class="logout fas fa-sign-out-alt m-r-10"></i>Đăng xuất';
        }

        /*
            * SET ICON JAPANESE
        */
        function setIconJapanese() {
            document.getElementById("language").setAttribute("src", "imgs/icons/ic-jp.png");
            document.getElementById("language").setAttribute("value", "jp");
            document.getElementById("lgJp").setAttribute("hidden", "");
            document.getElementById("lgEn").removeAttribute("hidden");
            document.getElementById("lgVi").removeAttribute("hidden");
            document.getElementById("logoutBtn").innerHTML = '<i class="logout fas fa-sign-out-alt m-r-10"></i>ログアウト';
        }

        /*
            * SET LANGUAGE DATA
        */
        function setLanguage(lang) {
            document.getElementById("title").innerHTML = language[lang][0];
            document.getElementById("titleForm").innerHTML = language[lang][0];
            document.getElementById("zumenKakuninBtn").innerHTML = language[lang][1];
            document.getElementById("setsubiKanriBtn").innerHTML = language[lang][2];
            document.getElementById("nichijoTenkenBtn").innerHTML = language[lang][3];
        }

        /*
            * ONLOAD ACTION
        */
        function onLoadAction() {
            onclickAction();
            switch (parseInt(sessionStorage.getItem("language"))) {
                case 0:
                    setIconEnglish();
                    break;
                case 1:
                    setIconVietnamese();
                    break;
                case 2:
                    setIconJapanese();
                    break;
            }
            if (sessionStorage.getItem("language") == null) {
                setLanguage(2);
                sessionStorage.setItem("language", 2)
            }
            else {
                setLanguage(parseInt(sessionStorage.getItem("language")));
            }
        }

        window.onload = onLoadAction;
    </script>
</body>

</html>